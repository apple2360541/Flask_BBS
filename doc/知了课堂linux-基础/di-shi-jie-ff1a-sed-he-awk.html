<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>第十节：sed和awk | Linux基础</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="./di-shi-yi-jie-ff1a-lnmp-jia-gou.html" />
    
    
    <link rel="prev" href="./di-jiu-jie-ff1a-zheng-ze-biao-da-shi.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="10"
        data-chapter-title="第十节：sed和awk"
        data-filepath="di-shi-jie-ff1a-sed-he-awk.md"
        data-basepath="."
        data-revision="Tue Jun 19 2018 15:42:49 GMT+0800 (中国标准时间)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        介绍
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="chapter1.html">
            
                
                    <a href="./chapter1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        第一节：Linux基础1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="di-er-jie-ff1a-linux-ji-chu-2.html">
            
                
                    <a href="./di-er-jie-ff1a-linux-ji-chu-2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        第二节：Linux基础2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="di-san-jie-ff1a-linux-yong-hu-guan-li.html">
            
                
                    <a href="./di-san-jie-ff1a-linux-yong-hu-guan-li.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        第三节：Linux用户管理
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="di-si-jie-ff1a-linux-shi-yong-ming-ling.html">
            
                
                    <a href="./di-si-jie-ff1a-linux-shi-yong-ming-ling.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        第四节：Linux实用命令
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="di-wu-jie-ff1a-centos-ruan-jian-an-zhuang-yu-xie-zai.html">
            
                
                    <a href="./di-wu-jie-ff1a-centos-ruan-jian-an-zhuang-yu-xie-zai.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        第五节：CentOS软件安装与卸载
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="di-liu-jie-ff1a-vim-shang-gu-shen-qi.html">
            
                
                    <a href="./di-liu-jie-ff1a-vim-shang-gu-shen-qi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        第六节：VIM-上古神器
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="di-qi-jie-ff1a-shell-jiao-ben.html">
            
                
                    <a href="./di-qi-jie-ff1a-shell-jiao-ben.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        第七节：shell脚本
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="di-ba-jie-ff1a-iptables.html">
            
                
                    <a href="./di-ba-jie-ff1a-iptables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        第八节：iptables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="di-jiu-jie-ff1a-zheng-ze-biao-da-shi.html">
            
                
                    <a href="./di-jiu-jie-ff1a-zheng-ze-biao-da-shi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        第九节：正则表达式
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="10" data-path="di-shi-jie-ff1a-sed-he-awk.html">
            
                
                    <a href="./di-shi-jie-ff1a-sed-he-awk.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        第十节：sed和awk
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="11" data-path="di-shi-yi-jie-ff1a-lnmp-jia-gou.html">
            
                
                    <a href="./di-shi-yi-jie-ff1a-lnmp-jia-gou.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        第十一节：LNMP架构
                    </a>
            
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Linux基础</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="sed">sed</h1>
<p>sed&#xFF08;stream editor&#xFF09;&#x662F;&#x6D41;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x53EF;&#x5BF9;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x548C;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x8FDB;&#x884C;&#x7F16;&#x8F91;&#x3002;
sed&#x53EA;&#x662F;&#x5BF9;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x539F;&#x59CB;&#x6587;&#x4EF6;&#x7684;&#x526F;&#x672C;&#x8FDB;&#x884C;&#x7F16;&#x8F91;&#xFF0C;&#x5E76;&#x4E0D;&#x7F16;&#x8F91;&#x539F;&#x59CB;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x6539;&#x52A8;&#x5185;&#x5BB9;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;
&#x91CD;&#x5B9A;&#x5411;
w&#x7F16;&#x8F91;&#x547D;&#x4EE4; -i &#x9009;&#x9879;
sed&#x57FA;&#x672C;&#x683C;&#x5F0F;</p>
<pre><code>sed option &apos;script&apos; file1 file2 ...
sed option -f scriptfile file1 file2 ...
</code></pre><p>&#x9009;&#x9879;&#x542B;&#x4E49;&#xFF1A;</p>
<pre><code>--version            &#x663E;&#x793A;sed&#x7248;&#x672C;&#x3002;
--help               &#x663E;&#x793A;&#x5E2E;&#x52A9;&#x6587;&#x6863;&#x3002;
-n,--quiet,--silent  &#x9759;&#x9ED8;&#x8F93;&#x51FA;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;sed&#x7A0B;&#x5E8F;&#x5728;&#x6240;&#x6709;&#x7684;&#x811A;&#x672C;&#x6307;&#x4EE4;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#xFF0C;&#x5C06;&#x81EA;&#x52A8;&#x6253;&#x5370;&#x6A21;&#x5F0F;&#x7A7A;&#x95F4;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x5C4F;&#x853D;&#x81EA;&#x52A8;&#x6253;&#x5370;&#x3002;
-e script            &#x5141;&#x8BB8;&#x591A;&#x4E2A;&#x811A;&#x672C;&#x6307;&#x4EE4;&#x88AB;&#x6267;&#x884C;&#x3002;
-f script-file, 
--file=script-file   &#x4ECE;&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x811A;&#x672C;&#x6307;&#x4EE4;&#xFF0C;&#x5BF9;&#x7F16;&#x5199;&#x81EA;&#x52A8;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x6765;&#x8BF4;&#x5F88;&#x68D2;&#xFF01;
-i,--in-place        &#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x7ECF;&#x8FC7;&#x811A;&#x672C;&#x6307;&#x4EE4;&#x5904;&#x7406;&#x540E;&#x7684;&#x5185;&#x5BB9;&#x5C06;&#x88AB;&#x8F93;&#x51FA;&#x81F3;&#x6E90;&#x6587;&#x4EF6;&#xFF08;&#x6E90;&#x6587;&#x4EF6;&#x88AB;&#x4FEE;&#x6539;&#xFF09;&#x614E;&#x7528;&#xFF01;
-l N, --line-length=N &#x8BE5;&#x9009;&#x9879;&#x6307;&#x5B9A;l&#x6307;&#x4EE4;&#x53EF;&#x4EE5;&#x8F93;&#x51FA;&#x7684;&#x884C;&#x957F;&#x5EA6;&#xFF0C;l&#x6307;&#x4EE4;&#x7528;&#x4E8E;&#x8F93;&#x51FA;&#x975E;&#x6253;&#x5370;&#x5B57;&#x7B26;&#x3002;
--posix             &#x7981;&#x7528;GNU sed&#x6269;&#x5C55;&#x529F;&#x80FD;&#x3002;
-r, --regexp-extended  &#x5728;&#x811A;&#x672C;&#x6307;&#x4EE4;&#x4E2D;&#x4F7F;&#x7528;&#x6269;&#x5C55;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;
-s, --separate      &#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;sed&#x5C06;&#x628A;&#x547D;&#x4EE4;&#x884C;&#x6307;&#x5B9A;&#x7684;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x540D;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x957F;&#x7684;&#x8FDE;&#x7EED;&#x7684;&#x8F93;&#x5165;&#x6D41;&#x3002;&#x800C;GNU sed&#x5219;&#x5141;&#x8BB8;&#x628A;&#x4ED6;&#x4EEC;&#x5F53;&#x4F5C;&#x5355;&#x72EC;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x6837;&#x5982;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x5219;&#x4E0D;&#x8FDB;&#x884C;&#x8DE8;&#x6587;&#x4EF6;&#x5339;&#x914D;&#x3002;
-u, --unbuffered    &#x6700;&#x4F4E;&#x9650;&#x5EA6;&#x7684;&#x7F13;&#x5B58;&#x8F93;&#x5165;&#x4E0E;&#x8F93;&#x51FA;&#x3002;
</code></pre><p>&#x4EE5;&#x4E0A;&#x4EC5;&#x662F;sed&#x7A0B;&#x5E8F;&#x672C;&#x8EAB;&#x7684;&#x9009;&#x9879;&#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF0C;&#x81F3;&#x4E8E;&#x5177;&#x4F53;&#x7684;&#x811A;&#x672C;&#x6307;&#x4EE4;&#xFF08;&#x5373;&#x5BF9;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x505A;&#x7684;&#x64CD;&#x4F5C;&#xFF09;&#x540E;&#x9762;&#x6211;&#x4EEC;&#x4F1A;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;.</p>
<p>sed&#x7684;&#x8BED;&#x6CD5;:sed &apos;&#x6837;&#x5F0F;&#x547D;&#x4EE4;&apos;&#x6587;&#x4EF6;
sed&#x662F;&#x4E00;&#x79CD;&#x6D41;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x5B83;&#x4E00;&#x6B21;&#x5904;&#x7406;&#x4E00;&#x884C;&#x5185;&#x5BB9;&#x3002;&#x5904;&#x7406;&#x65F6;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x5904;&#x7406;&#x7684;&#x884C;&#x5B58;&#x50A8;&#x5728;&#x4E34;&#x65F6;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#xFF0C;&#x79F0;&#x4E3A;&#x201C;&#x6A21;&#x5F0F;&#x7A7A;&#x95F4;&#x201D;&#xFF08;pattern space&#xFF09;&#xFF0C;&#x63A5;&#x7740;&#x7528;sed&#x547D;&#x4EE4;&#x5904;&#x7406;&#x7F13;&#x51B2;&#x533A;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x628A;&#x7F13;&#x51B2;&#x533A;&#x7684;&#x5185;&#x5BB9;&#x9001;&#x5F80;&#x5C4F;&#x5E55;&#x3002;&#x63A5;&#x7740;&#x5904;&#x7406;&#x4E0B;&#x4E00;&#x884C;&#xFF0C;&#x8FD9;&#x6837;&#x4E0D;&#x65AD;&#x91CD;&#x590D;&#xFF0C;&#x76F4;&#x5230;&#x6587;&#x4EF6;&#x672B;&#x5C3E;&#x3002;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5E76;&#x6CA1;&#x6709;&#x6539;&#x53D8;&#xFF0C;&#x9664;&#x975E;&#x4F60;&#x4F7F;&#x7528;&#x91CD;&#x5B9A;&#x5411;&#x5B58;&#x50A8;&#x8F93;&#x51FA;&#x3002;Sed&#x4E3B;&#x8981;&#x7528;&#x6765;&#x81EA;&#x52A8;&#x7F16;&#x8F91;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#xFF1B;&#x7B80;&#x5316;&#x5BF9;&#x6587;&#x4EF6;&#x7684;&#x53CD;&#x590D;&#x64CD;&#x4F5C;&#xFF1B;&#x7F16;&#x5199;&#x8F6C;&#x6362;&#x7A0B;&#x5E8F;&#x7B49;&#x3002;&#xFF08;&#x901A;&#x8FC7;&#x975E;&#x4EA4;&#x4E92;&#x5F0F;&#x6765;&#x4FEE;&#x6539;&#x6587;&#x672C;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF09;
&#x610F;&#x601D;&#x662F; &#x5982;&#x679C;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x67D0;&#x4E00;&#x884C;&#x7B26;&#x5408;&#x6837;&#x5F0F;&#xFF0C;&#x5C31;&#x6267;&#x884C;&#x6307;&#x5B9A;&#x7684;sed&#x547D;&#x4EE4; &#x5982;&#x5220;&#x9664;(d)&#x66FF;&#x6362;&#x662F;(s)
&#x201C;&#x6837;&#x5F0F;&#x201D;&#x4F7F;&#x7528;&#x4E00;&#x5BF9;//&#x542B;&#x62EC;&#xFF0C;&#x8868;&#x793A;&#x5BFB;&#x627E;&#x7684;&#x610F;&#x601D;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x6570;&#x636E;&#x884C;&#x7684;&#x8303;&#x56F4;&#xFF1A;&#x5982;1,6
&#x6CE8;&#x610F; sed&#x4E0D;&#x52A0;&quot;-i&quot;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4E0D;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x7684; &#x53EA;&#x662F;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9; &gt;&gt;</p>
<pre><code>p   &#x6253;&#x5370;&#x5339;&#x914D;&#x884C;
=   &#x6253;&#x5370;&#x6587;&#x4EF6;&#x884C;&#x53F7;
a\  &#x5728;&#x5B9A;&#x4F4D;&#x884C;&#x53F7;&#x4E4B;&#x540E;&#x8FFD;&#x52A0;&#x6587;&#x672C;&#x4FE1;&#x606F;
i\  &#x5728;&#x5B9A;&#x4F4D;&#x884C;&#x53F7;&#x4E4B;&#x524D;&#x63D2;&#x5165;&#x6587;&#x672C;&#x4FE1;&#x606F;
d   &#x5220;&#x9664;&#x5B9A;&#x4F4D;&#x884C;
c\  &#x7528;&#x65B0;&#x6587;&#x672C;&#x66FF;&#x6362;&#x5B9A;&#x4F4D;&#x6587;&#x672C;
s   &#x4F7F;&#x7528;&#x66FF;&#x6362;&#x6A21;&#x5F0F;&#x66FF;&#x6362;&#x76F8;&#x5E94;&#x6A21;&#x5F0F;
r   &#x4ECE;&#x53E6;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x6587;&#x672C;
w   &#x5C06;&#x6587;&#x672C;&#x5199;&#x5165;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;
y   &#x53D8;&#x6362;&#x5B57;&#x7B26;
q   &#x7B2C;&#x4E00;&#x4E2A;&#x6A21;&#x5F0F;&#x5339;&#x914D;&#x5B8C;&#x6210;&#x540E;&#x9000;&#x51FA;
l   &#x663E;&#x793A;&#x4E0E;&#x516B;&#x8FDB;&#x5236;ASCII&#x4EE3;&#x7801;&#x7B49;&#x4EF7;&#x7684;&#x63A7;&#x5236;&#x5B57;&#x7B26;
{}  &#x5728;&#x5B9A;&#x4F4D;&#x884C;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x7EC4;
n   &#x8BFB;&#x53D6;&#x4E0B;&#x4E00;&#x4E2A;&#x8F93;&#x5165;&#x884C;&#xFF0C;&#x7528;&#x4E0B;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x5904;&#x7406;&#x65B0;&#x7684;&#x884C;
h   &#x5C06;&#x6A21;&#x5F0F;&#x7F13;&#x51B2;&#x533A;&#x6587;&#x672C;&#x62F7;&#x8D1D;&#x5230;&#x4FDD;&#x6301;&#x7F13;&#x51B2;&#x533A;
H   &#x5C06;&#x6A21;&#x5F0F;&#x7F13;&#x51B2;&#x533A;&#x6587;&#x672C;&#x8FFD;&#x52A0;&#x5230;&#x4FDD;&#x6301;&#x7F13;&#x51B2;&#x533A;
x   &#x4E92;&#x6362;&#x6A21;&#x5F0F;&#x7F13;&#x51B2;&#x533A;&#x548C;&#x4FDD;&#x6301;&#x7F13;&#x51B2;&#x533A;&#x5185;&#x5BB9;
g   &#x5C06;&#x4FDD;&#x6301;&#x7F13;&#x51B2;&#x533A;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x6A21;&#x5F0F;&#x7F13;&#x51B2;&#x533A;
G   &#x5C06;&#x4FDD;&#x6301;&#x7F13;&#x51B2;&#x533A;&#x5185;&#x5BB9;&#x8FFD;&#x52A0;&#x5230;&#x6A21;&#x5F0F;&#x7F13;&#x51B2;&#x533A;
g &#x4E0E;s&#x4F7F;&#x7528;&#x8868;&#x793A;&#x5168;&#x5C40;&#x5339;&#x914D;&#x66FF;&#x6362;  
p &#x6253;&#x5370;&#x5339;&#x914D;&#x884C;  
s &#x66FF;&#x6362;  
-n &#x53D6;&#x6D88;&#x9ED8;&#x8BA4;&#x8F93;&#x51FA;  
-e &#x5141;&#x8BB8;&#x591A;&#x9879;&#x7F16;&#x8F91;  
-i &#x4FEE;&#x6539;&#x539F;&#x6587;&#x4EF6;
</code></pre><p>sed&#x57FA;&#x672C;&#x7528;&#x6CD5;</p>
<pre><code>sed&#x5220;&#x9664;&#x7528;&#x6CD5;
sed &#x2018;1,4d&#x2019;dataf1 #&#x628A;&#x7B2C;&#x4E00;&#x884C;&#x5230;&#x7B2C;&#x56DB;&#x884C;&#x5220;&#x9664;&#xFF0C;&#x5E76;&#x4E14;&#x663E;&#x793A;&#x5269;&#x4E0B;&#x7684;&#x5185;&#x5BB9;  
sed &#x2018;/La/d&#x2019;dataf2 #&#x628A;&#x542B;&#x6709;La&#x7684;&#x884C;&#x5220;&#x9664;  
sed &apos;/La/!d&apos; dataf2  #&#x628A;&#x4E0D;&#x542B;La&#x7684;&#x884C;&#x5220;&#x9664;&#xFF0C;!&#x662F;&#x5426;&#x5B9A;&#x7684;&#x610F;&#x601D;  
sed &#x2018;/[0-9]\{3\}/d&#x2019;dataf3#&#x628A;&#x6709;&#x201D;3&#x4F4D;&#x6570;&#x201D;&#x7684;&#x884C;&#x5220;&#x9664;sed  
sed &apos;/^$/d&apos; dataf5  #&#x5220;&#x9664;&#x7A7A;&#x884C;  
sed &#x663E;&#x793A;&#x7528;&#x6CD5;  
sed -n &apos;/La/p&apos; dataf2#&#x663E;&#x793A;&#x542B;&#x6709;La&#x7684;&#x884C;  
sed &#x66FF;&#x6362;&#x7528;&#x6CD5;(&#x628A;-n &#x6362;&#x6210;-i &#x5C31;&#x662F;&#x76F4;&#x63A5;&#x66FF;&#x6362;&#x539F;&#x6587;&#x4EF6;&#x4E86;)  
sed -n &apos;s/La/Oo/p&apos; dataf2 #&#x628A;La&#x66FF;&#x6362;&#x4E3A;Oo-n&#x662F;&#x6291;&#x5236;sed&#x663E;&#x793A;&#x5176;&#x4ED6;&#x884C;  
sed -n &apos;s/La//p&apos; dataf2 #&#x628A;La&#x66FF;&#x6362;&#x4E3A;&#x7A7A;  
sed -n &apos;s/La/Oo/gp&apos; dataf2  #&#x52A0;g&#x662F;&#x5168;&#x5C40;&#x66FF;&#x6362;&#x7684;&#x610F;&#x601D;  
sed -n &apos;s/^...//p&apos; dataf2  #&#x628A;&#x6BCF;&#x884C;&#x5F00;&#x5934;&#x7684;3&#x4E2A;&#x5B57;&#x7B26;&#x66FF;&#x6362;&#x4E3A;&#x7A7A;  
sed -n &apos;s/...$//p&apos; dataf2 #&#x628A;&#x6BCF;&#x884C;&#x7ED3;&#x5C3E;&#x7684;3&#x4E2A;&#x5B57;&#x7B26;&#x66FF;&#x6362;&#x4E3A;&#x7A7A;  
sed -n &apos;s/La/10o/p&apos; dataf2 #&#x66FF;&#x6362;  
sed -n &apos;/AAA/s/234/567/p&apos; dataf6#&#x627E;&#x5230;&#x542B;&#x6709;AAA&#x7684;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x628A;234&#x66FF;&#x6362;&#x6210;567  
sed -n &apos;/AAA/,/DDD/s/B/567/p&apos; dataf7#&#x627E;&#x5230;&#x542B;&#x6709;AAA&#x5230;DDD&#x7684;&#x90A3;&#x51E0;&#x884C;&#xFF0C;&#x5C06;B&#x66FF;&#x6362;&#x6210;567   
sed -n &apos;/AAA/,/DDD/s/B/567/gp&apos; dataf7   #&#x5168;&#x5C40;
sed -n &quot;/^[[:space:]]*Port/cPort 22&quot; /etc/ssh/sshd_config  
&#x4FEE;&#x6539;ssh&#x8FDE;&#x63A5;&#x7AEF;&#x53E3;
</code></pre><h2 id="awk&#x7684;&#x7528;&#x6CD5;">awk&#x7684;&#x7528;&#x6CD5;</h2>
<p>awk&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x8F6F;&#x4EF6;&#x7EA7;&#x522B;&#x7B49;&#x540C;&#x4E8E;bash,&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5728;linux/unix&#x4E0B;&#x5BF9;&#x6587;&#x672C;&#x548C;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x6765;&#x81EA;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x3001;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6216;&#x5176;&#x5B83;&#x547D;&#x4EE4;&#x7684;&#x8F93;&#x51FA;&#x3002;&#x5B83;&#x652F;&#x6301;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#x548C;&#x52A8;&#x6001;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x7B49;&#x5148;&#x8FDB;&#x529F;&#x80FD;&#xFF0C;&#x662F;linux/unix&#x4E0B;&#x7684;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7F16;&#x7A0B;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x66F4;&#x591A;&#x662F;&#x4F5C;&#x4E3A;&#x811A;&#x672C;&#x6765;&#x4F7F;&#x7528;&#x3002;awk&#x7684;&#x5904;&#x7406;&#x6587;&#x672C;&#x548C;&#x6570;&#x636E;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x5B83;&#x9010;&#x884C;&#x626B;&#x63CF;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4ECE;&#x7B2C;&#x4E00;&#x884C;&#x5230;&#x6700;&#x540E;&#x4E00;&#x884C;&#xFF0C;&#x5BFB;&#x627E;&#x5339;&#x914D;&#x7684;&#x7279;&#x5B9A;&#x6A21;&#x5F0F;&#x7684;&#x884C;&#xFF0C;&#x5E76;&#x5728;&#x8FD9;&#x4E9B;&#x884C;&#x4E0A;&#x8FDB;&#x884C;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x5904;&#x7406;&#x52A8;&#x4F5C;&#xFF0C;&#x5219;&#x628A;&#x5339;&#x914D;&#x7684;&#x884C;&#x663E;&#x793A;&#x5230;&#x6807;&#x51C6;&#x8F93;&#x51FA;(&#x5C4F;&#x5E55;)&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x6A21;&#x5F0F;&#xFF0C;&#x5219;&#x6240;&#x6709;&#x88AB;&#x64CD;&#x4F5C;&#x6240;&#x6307;&#x5B9A;&#x7684;&#x884C;&#x90FD;&#x88AB;&#x5904;&#x7406;&#x3002;
awk&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x662F;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF0C;&#x5C06;&#x6BCF;&#x884C;&#x6570;&#x636E;&#x89C6;&#x4E3A;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x6BCF;&#x7B14;&#x8BB0;&#x5F55;&#x4EE5;&#x5B57;&#x6BB5;&#x5206;&#x9694;&#x6210;&#x82E5;&#x5E72;&#x4E2A;&#x5B57;&#x6BB5;,&#x7136;&#x540E;&#x8F93;&#x51FA;&#x5404;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x503C;
awk&#x6BD4;sed&#x5F3A;&#x7684;&#x5730;&#x65B9;&#x5728;&#x4E8E;&#x4E0D;&#x4EC5;&#x80FD;&#x4EE5;&#x884C;&#x4E3A;&#x5355;&#x4F4D;&#x8FD8;&#x80FD;&#x4EE5;&#x5217;&#x4E3A;&#x5355;&#x4F4D;&#x5904;&#x7406;&#x6587;&#x4EF6;&#x3002;awk&#x7F3A;&#x7701;&#x7684;&#x884C;&#x5206;&#x9694;&#x7B26;&#x662F;&#x6362;&#x884C;&#xFF0C;&#x7F3A;&#x7701;&#x7684;&#x5217;&#x5206;&#x9694;&#x7B26;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#x7A7A;&#x683C;&#x548C;Tab&#xFF0C;&#x4F46;&#x662F;&#x884C;&#x5206;&#x9694;&#x7B26;&#x548C;&#x5217;&#x5206;&#x9694;&#x7B26;&#x90FD;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#xFF0C;&#x6BD4;&#x5982;/etc/passwd&#x6587;&#x4EF6;&#x7684;&#x6BCF;&#x4E00;&#x884C;&#x6709;&#x82E5;&#x5E72;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x5B57;&#x6BB5;&#x4E4B;&#x95F4;&#x4EE5;:&#x5206;&#x9694;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;awk&#x7684;&#x5217;&#x5206;&#x9694;&#x7B26;&#x4E3A;:&#x5E76;&#x4EE5;&#x5217;&#x4E3A;&#x5355;&#x4F4D;&#x5904;&#x7406;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;
awk&#x7684;&#x5E38;&#x7528;&#x683C;&#x5F0F;</p>
<pre><code>awk &quot;&#x6837;&#x5F0F;&quot; &#x6587;&#x4EF6; : &#x628A;&#x7B26;&#x5408;&#x6837;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x884C;&#x663E;&#x793A;&#x51FA;&#x6765;  
awk &apos;{&#x64CD;&#x4F5C;}&apos; &#x6587;&#x4EF6;: &#x5BF9;&#x6BCF;&#x4E00;&#x884C;&#x90FD;&#x6267;&#x884C;{}&#x4E2D;&#x7684;&#x64CD;&#x4F5C;  
awk &apos;&#x6837;&#x5F0F;{&#x64CD;&#x4F5C;}&apos; &#x6587;&#x4EF6;: &#x5BF9;&#x7B26;&#x5408;&#x6837;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x884C;&#xFF0C;&#x6267;&#x884C;{}&#x4E2D;&#x7684;&#x64CD;&#x4F5C;  
1&#xFF09;&#x547D;&#x4EE4;&#x6A21;&#x5F0F;
        awk [options] &apos;commands&apos; file(s)
            command &#x90E8;&#x5206;&#xFF1A;/&#x8303;&#x56F4;&#x8BF4;&#x660E;/{awk&#x547D;&#x4EE4;&#x8BED;&#x53E5;1&#xFF1B;awk&#x547D;&#x4EE4;&#x8BED;&#x53E5;2&#xFF1B;}
                &#x8303;&#x56F4;&#x8BF4;&#x660E;&#x90E8;&#x5206;&#x53EF;&#x4EE5;&#x662F;BEGIN&#x3001;END&#x3001;&#x903B;&#x8F91;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x8005;&#x4E3A;&#x7A7A;
                awk&#x547D;&#x4EE4;&#x8BED;&#x53E5;&#x95F4;&#x7528;&#x5206;&#x53F7;&#x95F4;&#x9694;
                &#x5F15;&#x7528;shell &#x53D8;&#x91CF;&#x9700;&#x7528;&#x53CC;&#x5F15;&#x53F7;&#x5F15;&#x8D77;
            option &#x90E8;&#x5206;
                -F &#x5B9A;&#x4E49;&#x5B57;&#x6BB5;&#x5206;&#x5272;&#x7B26;&#x53F7;

2&#xFF09;&#x811A;&#x672C;&#x6A21;&#x5F0F;
        awk [options] -f scriptfile file(s)
        &#x7279;&#x70B9;&#xFF1A;
            awk&#x811A;&#x672C;&#x662F;awk&#x547D;&#x4EE4;&#x7684;&#x6E05;&#x5355;
            &#x547D;&#x4EE4;&#x9700;&#x8981;&#x7528;&#x5206;&#x53F7;&#x95F4;&#x9694;
            #&#x53F7;&#x5F00;&#x5934;&#x7684;&#x662F;&#x6CE8;&#x91CA;&#x884C;
            # /bin/awk -f
</code></pre><table>
<thead>
<tr>
<th>&#x53D8;&#x91CF;&#x540D;</th>
<th>&#x5C5E;&#x6027;</th>
</tr>
</thead>
<tbody>
<tr>
<td>$0</td>
<td>&#x5F53;&#x524D;&#x8BB0;&#x5F55;</td>
</tr>
<tr>
<td>$1~$n</td>
<td>&#x5F53;&#x524D;&#x8BB0;&#x5F55;&#x7684;&#x7B2C;N&#x4E2A;&#x5B57;&#x6BB5;</td>
</tr>
<tr>
<td>FS</td>
<td>&#x8F93;&#x5165;&#x5B57;&#x6BB5;&#x5206;&#x9694;&#x7B26;&#x9ED8;&#x8BA4;&#x662F;&#x7A7A;&#x683C;</td>
</tr>
<tr>
<td>RS</td>
<td>&#x8F93;&#x5165;&#x8BB0;&#x5F55;&#x5206;&#x5272;&#x7B26;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x6362;&#x884C;&#x7B26;</td>
</tr>
<tr>
<td>NF</td>
<td>&#x5F53;&#x524D;&#x8BB0;&#x5F55;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x4E2A;&#x6570;&#xFF0C;&#x5C31;&#x662F;&#x6709;&#x591A;&#x5C11;&#x5217;</td>
</tr>
<tr>
<td>NR</td>
<td>&#x4EE5;&#x53CA;&#x8BFB;&#x51FA;&#x7684;&#x8BB0;&#x5F55;&#x6570;&#xFF0C;&#x5C31;&#x662F;&#x884C;&#x53F7;&#xFF0C;&#x4ECE;1&#x5F00;&#x59CB;</td>
</tr>
<tr>
<td>OFS</td>
<td>&#x8F93;&#x51FA;&#x5B57;&#x6BB5;&#x5206;&#x9694;&#x7B26; &#x9ED8;&#x8BA4;&#x4E5F;&#x662F;&#x7A7A;&#x683C;</td>
</tr>
<tr>
<td>ORS</td>
<td>&#x8F93;&#x51FA;&#x7684;&#x8BB0;&#x5F55;&#x5206;&#x9694;&#x7B26; &#x9ED8;&#x8BA4;&#x4E3A;&#x6362;&#x884C;&#x7B26;</td>
</tr>
</tbody>
</table>
<h2 id="awk&#x7684;&#x793A;&#x4F8B;">awk&#x7684;&#x793A;&#x4F8B;</h2>
<pre><code>&#x53D6;&#x5012;&#x6570;&#x7B2C;&#x4E00;&#x5217;&#x548C;&#x5012;&#x6570;&#x7B2C;&#x4E8C;&#x5217;
$ head -1 passwd |awk -F&apos;:&apos; &apos;{print $NF,$(NF-1)}&apos;
/bin/bash /root
&#x6362;&#x884C;&#x7B26;&#xFF08;&#x9ED8;&#x8BA4;&#x5904;&#x7406;&#x4E00;&#x884C;&#x540E;&#x624D;&#x6362;&#x884C;&#xFF09;
$ head -1 passwd |awk -F&apos;:&apos; &apos;{print $NF RS $(NF-1)}&apos;
/bin/bash
/root
$head -1 passwd | awk &apos;BEGIN {FS=&quot;:&quot;} {print $NF RS $(NF-1)}&apos; 

&#x4E00;&#x6B21;&#x6307;&#x5B9A;&#x591A;&#x4E2A;&#x5206;&#x9694;&#x7B26;
$ awk -F&apos;:|/&apos; &apos;{print NF}&apos; passwd 
$ awk -F&apos;[:/]&apos; &apos;{print NF}&apos; passwd 
$ ifconfig eth0|grep Bcast|awk -F&apos;:| +&apos; &apos;{print $4}&apos;
$ifconfig eth0 |grep Bcast | awk -F&quot; &quot; &apos;{print $2}&apos;|awk -F&quot;:&quot; &apos;{print $2}&apos;

&#x6253;&#x5370;&#x6807;&#x9898;&#x548C;&#x7ED3;&#x5C3E;&#x4FE1;&#x606F;
$ awk -F&apos;:&apos;  &apos;BEGIN {print &quot;user\tpasswd\thome&quot;RS&quot;----------------------&quot;} ; {print $1&quot;\t&quot;$2&quot;\t&quot;$(NF-1)} ; END {print &quot;&lt;-----------END----------&gt;&quot;}&apos; passwd 
user    passwd  home
----------------------
root    x       /root
bin     x       /bin
daemon  x       /sbin
adm     x       /var/adm
lp      x       /var/spool/lpd
&lt;-----------END----------&gt;
&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;
awk &apos;/La/&apos; dataf3 #&#x663E;&#x793A;&#x542B;&#x6709;La&#x7684;&#x6570;&#x636E;&#x884C;  
awk &apos;{print $1, $2}&apos; dataf3 #&#x663E;&#x793A;dataf3&#x6BCF;&#x4E00;&#x884C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x548C;&#x7B2C;&#x4E8C;&#x4E2A;&#x5B57;&#x6BB5;  
awk &#x2018;/La/{print $1, $2}&#x2019; dataf3#&#x5C06;&#x542B;&#x6709;&#x5173;&#x952E;&#x8BCD;La&#x7684;&#x6570;&#x636E;&#x884C;&#x7684;&#x7B2C;1&#x548C;&#x7B2C;2&#x4E2A;&#x5B57;&#x6BB5;&#x663E;&#x793A;  
awk -F: &apos;/^ceshi/{print $3, $4}&apos; /etc/passwd #&#x7528;-F&#x6307;&#x5B9A;:&#x4E3A;&#x5206;&#x9694;&#x7B26;&#xFF0C;&#x8D26;&#x53F7;ols3&#x7684;&#x7B2C;&#x4E09;&#x6BB5;&#x548C;&#x7B2C;&#x56DB;&#x6BB5;&#x663E;&#x793A;  
awk -F: &apos;BEGIN{OFS=&quot;+++&quot;}/^mail/{print $1, $2, $3, $4, $5, $6, $7}&apos; /etc/passwd
OFS&#x7684;&#x4F5C;&#x7528;&#x662F;&#x5B58;&#x50A8;&#x8F93;&#x51FA;&#x5B57;&#x6BB5;&#x7684;&#x5206;&#x9694;&#x7B26;  
awk&#x5E94;&#x7528;  
&#x53D6;&#x7F51;&#x5361;&#x7684;IP&#x5730;&#x5740;  
ifconfig |sed -n &apos;2p&apos; |awk -F: &apos;{print $2}&apos; |awk &apos;{print $1}&apos;
&#x53D6;&#x7F51;&#x7EDC;&#x8BBE;&#x5907;&#x7684;&#x540D;&#x79F0;:  
cat /proc/net/dev/sed -n &apos;4p&apos;|awk -F: &apos;{print $1}&apos;  
&#x53D6;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x5927;&#x5C0F;  
cat /proc/meminfo |awk &apos;/MemTotal/{print $1,$2}&apos;
cat /proc/meminfo |sed -n &apos;1p&apos;
&#x7528;netstat -ntl &#x622A;&#x53D6;&#x6240;&#x6709;&#x5F00;&#x653E;&#x7684;&#x7AEF;&#x53E3;&#x53F7;
netstat -ntl |grep -v Active| grep -v Proto|awk &apos;{print $4}&apos;|awk -F: &apos;{print $NF}&apos;
netstat -ntlup |grep -Ev &quot;Active|Proto&quot; |awk &apos;{print $4}&apos; |awk -F: &apos;{print $NF}&apos;

awk&#x6D41;&#x7A0B;&#x63A7;&#x5236;
if
# awk -F: &apos;{if($3&gt;500) print $1,$3,&quot;&#x666E;&#x901A;&#x7528;&#x6237;&quot;}&apos; /etc/passwd
# awk -F: &apos;{if($3&gt;500) print $1,$3,&quot;&#x666E;&#x901A;&#x7528;&#x6237;&quot;;else print $1,$3,&quot;&#x4E0D;&#x662F;&#x666E;&#x901A;&#x7528;&#x6237;&quot;}&apos; /etc/passwd
# awk -F: &apos;{if($3==0) print $1,$3,&quot;&#x7BA1;&#x7406;&#x5458;&quot;;else if($3&lt;500) print $1,$3,&quot;&#x7CFB;&#x7EDF;&#x7528;&#x6237;&quot;;else print $1,$3,&quot;&#x666E;&#x901A;&#x7528;&#x6237;&quot;}&apos; /etc/passwd
for 
# awk &apos;BEGIN {for(i=0; i&lt;=10; i++) print i}&apos;

while
# awk &apos;BEGIN {i=0;while(i&lt;=5) {print i;i++}}&apos;
# awk &apos;BEGIN {i=0;while(i&lt;=5) {print&quot;service&quot;,i,&quot;start&quot;;i++}}&apos;

#&#x5FAA;&#x73AF;&#x7684;&#x63A7;&#x5236;&#xFF1A;
break       --&#x6761;&#x4EF6;&#x6EE1;&#x8DB3;&#x7684;&#x65F6;&#x5019;&#x4E2D;&#x65AD;&#x5FAA;&#x73AF;
continue        --&#x6761;&#x4EF6;&#x6EE1;&#x8DB3;&#x7684;&#x65F6;&#x5019;&#x8DF3;&#x8FC7;&#x5FAA;&#x73AF;
# awk &apos;BEGIN {i=0;while(i&lt;=5) {i++;if(i==3) continue; print i}}&apos;
# awk &apos;BEGIN {i=0;while(i&lt;=5) {i++;if(i==3) break; print i}}
</code></pre>
                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./di-jiu-jie-ff1a-zheng-ze-biao-da-shi.html" class="navigation navigation-prev " aria-label="Previous page: 第九节：正则表达式"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./di-shi-yi-jie-ff1a-lnmp-jia-gou.html" class="navigation navigation-next " aria-label="Next page: 第十一节：LNMP架构"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
